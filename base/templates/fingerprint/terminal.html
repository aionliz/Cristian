{% extends 'base.html' %}

{% block title %}Terminal de Asistencia - Huella Dactilar{% endblock %}

{% block head %}
<!-- Los estilos ya están incluidos en unified-styles.css desde base.html -->
{% endblock %}

{% block content %}
<div class="terminal-container">
    <div class="terminal-card">
        <div class="auto-refresh">
            <i class="fas fa-sync-alt"></i> Auto-actualización activa
        </div>

        <!-- Header -->
        <h1 class="gradient-text mb-4">
            <i class="fas fa-fingerprint"></i> Terminal de Asistencia
        </h1>

        <!-- Course Info -->
        <div class="course-info">
            <strong>{{ curso_actual }}</strong><br>
            <small>{{ fecha_actual.strftime('%d/%m/%Y') }} - {{ hora_actual }}</small>
        </div>

        <!-- Device Status -->
        <div class="device-status-bar">
            <div class="d-flex align-items-center">
                <span class="device-indicator device-connected me-2" id="deviceIndicator"></span>
                <span class="text-light">Lector DigitalPersona</span>
            </div>
            <span class="status-registered" id="deviceStatus">Listo</span>
        </div>

        <!-- Fingerprint Scanner -->
        <div class="fingerprint-scanner" id="fingerprintScanner">
            <i class="fas fa-fingerprint scanner-icon" id="scannerIcon"></i>
        </div>

        <!-- Status Message -->
        <div class="status-message text-accent" id="statusMessage">
            Coloque su dedo en el lector para marcar asistencia
        </div>

        <!-- Student Information (Hidden by default) -->
        <div class="student-info" id="studentInfo">
            <div class="student-photo" id="studentPhoto">
                <i class="fas fa-user"></i>
            </div>
            <h3 class="text-light" id="studentName"></h3>
            <p class="text-accent" id="studentCourse"></p>
            <div class="attendance-status" id="attendanceStatus"></div>
        </div>

        <!-- Attendance Summary -->
        <div class="attendance-summary" id="attendanceSummary">
            <div class="summary-card">
                <div class="summary-number" id="presentCount">{{ presentes_hoy }}</div>
                <div class="text-accent">Presentes</div>
            </div>
            <div class="summary-card">
                <div class="summary-number" id="absentCount">{{ ausentes_hoy }}</div>
                <div class="text-accent">Ausentes</div>
            </div>
            <div class="summary-card">
                <div class="summary-number" id="totalCount">{{ total_alumnos }}</div>
                <div class="text-accent">Total</div>
            </div>
        </div>
    </div>
</div>

{% endblock %}